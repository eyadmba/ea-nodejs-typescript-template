# How to use

`index.ts` is the entrypoint, so write your logic anywhere in `/src/` and then import it into `index.ts` to run it.

## `npm run start`

Runs `index.ts`. This will use `ts-node` to run just the files needed starting from the entrypoint `index.ts`.
This does not perform any type-checking. It's meant to be a quick way to run the code.
Type-checking should be something performed by the IDE, or you can explicitly run it with `npm run build`.

> How this works: ts-node will not compile the entire project. It's just going to traverse the file `index.ts` to only
> transpile what's needed into a temporary directory in node_modules.

## `npm run build`

Transpile the entire project's by the typescript compiler. This will output files to `/dist/`.

# Code quality setup

The tools we use to enforce code quality are `eslint` and `prettier`.
Prettier is used for non-logical formatting of whitespace and such, while
ESLint is used for more complex inspections.

## ESLint

All errors and warnings generated by the compiler have been turned off in `tsconfig.json`.
Instead, ESLint is the tool that does all the logic- and type-checking (with the help of typescript of course).
This makes for a more uniform experience for setting errors and warnings.

As an example, `noFallthroughCasesInSwitch` is not enabled in `tsconfig.json` since it's enabled by the
ESLint rule `no-fallthrough` of the `eslint:recommended` rule set.

Official website: _https://eslint.org/_

## TypeScript ESLint

ESLint needs a custom parser to understand TypeScript code; that's why `.eslintrc` the parser is set to `@typescript-eslint/parser`.
Then to override some ESLint rules that don't work well with TypeScript, the rule set `plugin:@typescript-eslint/recommended`
is added to the `extends` list.
Any custom ESLint rules we want to add on a case-by-case basis are then added to the `rules` list.

Official website: _https://typescript-eslint.io/_

## Prettier

Prettier is used to maintain a consistent code style.

### `npm run check-formatting`

Checks for any badly-formatted code. As an optimization, it will only process files that have been staged in git.

### `npm run fix-formatting`

Checks for and auto-fixes badly-formatted code. As an optimization, it will only process files that have been staged in git.

### prettier git hooks

Using `husky`, a hook has been set up that will run the `check-formatting` script before every commit.
This will most likely find issues every time you want to commit, which will get annoying very quickly. So it's advised
to configure your text editor to auto run `fix-formatting` so that you don't have to worry about code formatting problems.
